syntax = "proto3";

package tk.api;

import "common/common.proto";
import "db/db.proto";

message SessionResponse {
  string id = 1;
  db.Session session = 2;
}

message GetSessionsRequest {}
message GetSessionsResponse {
  repeated SessionResponse sessions = 1;
}

message StreamSessionsRequest {}
message StreamSessionsResponse {
  repeated SessionResponse sessions = 1;
  common.SyncType sync_type = 2;
}

message CheckInOutRequest {
  string team_member_id = 1;
  db.Location location = 2;
}

message CheckInOutResponse {
  bool checked_in = 1;
}

service SessionService {
  rpc GetSessions(GetSessionsRequest) returns (GetSessionsResponse);
  rpc StreamSessions(StreamSessionsRequest) returns (stream StreamSessionsResponse);
  rpc CheckInOut(CheckInOutRequest) returns (CheckInOutResponse);
}
