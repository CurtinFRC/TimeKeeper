syntax = "proto3";

package tk.api;

import "common/common.proto";
import "db/db.proto";

message LocationResponse {
  string id = 1;
  db.Location location = 2;
}

message GetLocationsRequest {}
message GetLocationsResponse {
  repeated LocationResponse locations = 1;
}

message StreamLocationsRequest {}
message StreamLocationsResponse {
  repeated LocationResponse locations = 1;
  common.SyncType sync_type = 2;
}

message CreateLocationRequest {
  string location = 1;
}
message CreateLocationResponse {}

message UpdateLocationRequest {
  string id = 1;
  string location = 2;
}
message UpdateLocationResponse {}

message DeleteLocationRequest {
  string id = 1;
}
message DeleteLocationResponse {}

service LocationService {
  rpc GetLocations(GetLocationsRequest) returns (GetLocationsResponse);
  rpc StreamLocations(StreamLocationsRequest) returns (stream StreamLocationsResponse);
  rpc CreateLocation(CreateLocationRequest) returns (CreateLocationResponse);
  rpc UpdateLocation(UpdateLocationRequest) returns (UpdateLocationResponse);
  rpc DeleteLocation(DeleteLocationRequest) returns (DeleteLocationResponse);
}
